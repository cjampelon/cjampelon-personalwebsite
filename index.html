import React, { useState } from 'react';
import { Home, User, Lightbulb, Mail, Menu, X, Briefcase, Code, Award, GraduationCap, Users } from 'lucide-react'; // Importing relevant icons

// Main App component
const App = () => {
  const [isMenuOpen, setIsMenuOpen] = useState(false);
  const [formStatus, setFormStatus] = useState('idle'); // 'idle', 'submitting', 'success', 'error'
  const [formData, setFormData] = useState({ name: '', email: '', message: '' });

  // Function to toggle mobile menu visibility
  const toggleMenu = () => {
    setIsMenuOpen(!isMenuOpen);
  };

  // Handle form input changes
  const handleChange = (e) => {
    setFormData({ ...formData, [e.target.name]: e.target.value });
  };

  // Handle form submission for Netlify Forms
  const handleSubmit = async (e) => {
    e.preventDefault();
    setFormStatus('submitting');

    try {
      // Netlify handles form submissions automatically if configured correctly in HTML
      // We just need to post the data to the current page.
      const response = await fetch('/', {
        method: 'POST',
        headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
        body: new URLSearchParams({
          'form-name': 'contact', // This must match the hidden input's name in the form
          ...formData,
        }).toString(),
      });

      if (response.ok) {
        setFormStatus('success');
        setFormData({ name: '', email: '', message: '' }); // Clear form
      } else {
        setFormStatus('error');
      }
    } catch (error) {
      console.error('Form submission error:', error);
      setFormStatus('error');
    }
  };


  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 font-sans text-gray-800 flex flex-col">
      {/* Header */}
      <header className="bg-white shadow-md p-4 sticky top-0 z-50">
        <div className="container mx-auto flex justify-between items-center">
          <h1 className="text-3xl font-bold text-indigo-700">Clint Justin Ampelon</h1>
          {/* Desktop Navigation */}
          <nav className="hidden md:flex space-x-6">
            <a href="#home" className="text-lg text-gray-700 hover:text-indigo-600 transition duration-300 flex items-center">
              <Home className="mr-2" size={20} /> Home
            </a>
            <a href="#about" className="text-lg text-gray-700 hover:text-indigo-600 transition duration-300 flex items-center">
              <User className="mr-2" size={20} /> About
            </a>
            <a href="#experience" className="text-lg text-gray-700 hover:text-indigo-600 transition duration-300 flex items-center">
              <Briefcase className="mr-2" size={20} /> Experience
            </a>
            <a href="#skills" className="text-lg text-gray-700 hover:text-indigo-600 transition duration-300 flex items-center">
              <Lightbulb className="mr-2" size={20} /> Skills
            </a>
            <a href="#education" className="text-lg text-gray-700 hover:text-indigo-600 transition duration-300 flex items-center">
              <GraduationCap className="mr-2" size={20} /> Education
            </a>
            <a href="#leadership" className="text-lg text-gray-700 hover:text-indigo-600 transition duration-300 flex items-center">
              <Users className="mr-2" size={20} /> Leadership
            </a>
            <a href="#contact" className="text-lg text-gray-700 hover:text-indigo-600 transition duration-300 flex items-center">
              <Mail className="mr-2" size={20} /> Contact
            </a>
          </nav>
          {/* Mobile Menu Button */}
          <button
            className="md:hidden p-2 rounded-md text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500"
            onClick={toggleMenu}
            aria-label="Toggle menu"
          >
            {isMenuOpen ? <X size={28} /> : <Menu size={28} />}
          </button>
        </div>

        {/* Mobile Navigation */}
        {isMenuOpen && (
          <nav className="md:hidden mt-4 bg-white border-t border-gray-200 py-2">
            <ul className="flex flex-col space-y-2 px-4">
              <li>
                <a href="#home" className="block py-2 text-lg text-gray-700 hover:text-indigo-600 transition duration-300 flex items-center" onClick={toggleMenu}>
                  <Home className="mr-2" size={20} /> Home
                </a>
              </li>
              <li>
                <a href="#about" className="block py-2 text-lg text-gray-700 hover:text-indigo-600 transition duration-300 flex items-center" onClick={toggleMenu}>
                  <User className="mr-2" size={20} /> About
                </a>
              </li>
              <li>
                <a href="#experience" className="block py-2 text-lg text-gray-700 hover:text-indigo-600 transition duration-300 flex items-center" onClick={toggleMenu}>
                  <Briefcase className="mr-2" size={20} /> Experience
                </a>
              </li>
              <li>
                <a href="#skills" className="block py-2 text-lg text-gray-700 hover:text-indigo-600 transition duration-300 flex items-center" onClick={toggleMenu}>
                  <Lightbulb className="mr-2" size={20} /> Skills
                </a>
              </li>
              <li>
                <a href="#education" className="block py-2 text-lg text-gray-700 hover:text-indigo-600 transition duration-300 flex items-center" onClick={toggleMenu}>
                  <GraduationCap className="mr-2" size={20} /> Education
                </a>
              </li>
              <li>
                <a href="#leadership" className="block py-2 text-lg text-gray-700 hover:text-indigo-600 transition duration-300 flex items-center" onClick={toggleMenu}>
                  <Users className="mr-2" size={20} /> Leadership
                </a>
              </li>
              <li>
                <a href="#contact" className="block py-2 text-lg text-gray-700 hover:text-indigo-600 transition duration-300 flex items-center" onClick={toggleMenu}>
                  <Mail className="mr-2" size={20} /> Contact
                </a>
              </li>
            </ul>
          </nav>
        )}
      </header>

      {/* Main Content */}
      <main className="flex-grow container mx-auto p-6 md:p-8">
        {/* Home/Hero Section */}
        <section id="home" className="bg-white rounded-xl shadow-lg p-8 mb-8 text-center">
          <h2 className="text-4xl font-extrabold text-indigo-800 mb-4">
            Licensed Mining Engineer & Digital Operations Specialist
          </h2>
          <p className="text-lg text-gray-600 leading-relaxed max-w-3xl mx-auto">
            Delivering technically sound, sustainable, and regulation-aligned solutions to complex quarrying challenges,
            while integrating strategic communication and digital transformation expertise in the resource sector.
          </p>
          <div className="mt-8">
            <a
              href="#contact"
              className="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-full shadow-lg transform transition duration-300 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-indigo-300 inline-flex items-center"
            >
              <Mail className="mr-2" size={20} /> Get in Touch
            </a>
          </div>
        </section>

        {/* About Section */}
        <section id="about" className="bg-white rounded-xl shadow-lg p-8 mb-8">
          <h2 className="text-3xl font-bold text-indigo-700 mb-6 flex items-center">
            <User className="mr-3" size={28} /> About Me
          </h2>
          <div className="space-y-6 text-gray-700 leading-relaxed">
            <p>
              As a licensed Mining Engineer, I bring hands-on expertise in operations, mine planning, and comprehensive regulatory compliance within the Philippine mining industry.
              My core mission is to establish myself as an authority by consistently delivering solutions that are
              not only technically robust but also environmentally sustainable and fully aligned with industry regulations.
              I specialize in operational optimization, strategic long-term resource planning, and high-integrity reporting,
              ensuring every project I manage achieves production targets while upholding the highest environmental and safety standards.
            </p>
            <p>
              Complementing my engineering foundation, I have cultivated a parallel career as a Research and Digital Operations Specialist.
              This dual-discipline approach allows me to apply a systems-level perspective to complex challenges in research,
              digital content strategy, and information architecture. My skills in this domain have been honed through years
              of supporting organizations abroad in critical areas such as data management, SEO-informed content creation,
              and the implementation of AI-assisted workflows.
            </p>
            <p>
              This blend of field-based technical leadership and strategic digital literacy positions me as a forward-thinking
              leader capable of navigating both on-site operational complexities and the demands of digital transformation
              within the resource sector. I am committed to integrating these disciplines to drive efficiency, ensure compliance,
              and foster innovation.
            </p>
          </div>
        </section>

        {/* Work Experience Section */}
        <section id="experience" className="bg-white rounded-xl shadow-lg p-8 mb-8">
          <h2 className="text-3xl font-bold text-indigo-700 mb-6 flex items-center">
            <Briefcase className="mr-3" size={28} /> Work Experience
          </h2>

          {/* PCOS Challenge Experience */}
          <div className="mb-8 p-6 border border-gray-200 rounded-lg shadow-sm">
            <h3 className="text-2xl font-semibold text-gray-800 mb-2">Online Research Specialist</h3>
            <p className="text-indigo-600 font-medium mb-2">PCOS Challenge: The National Polycystic Ovary Syndrome Association</p>
            <p className="text-sm text-gray-500 mb-4">December 2021 - May 2025</p>
            <ul className="list-disc list-inside space-y-2 text-gray-700">
              <li>Developed and optimized digital content strategies, including SEO-informed pillar pages and structured data implementation, to enhance online visibility and engagement.</li>
              <li>Managed and coordinated over 75+ annual social media campaigns, aligning content with key health awareness and advocacy events.</li>
              <li>Provided backend logistics and ensured technical readiness for 20+ high-impact virtual events with top-tier medical organizations.</li>
              <li>Executed data-driven lead generation for sponsorships and managed backend data for large-scale advocacy initiatives, including annual Appropriations forms for US Legislators.</li>
              <li>Managed and reconciled extensive financial transactions using QuickBooks, ensuring data integrity for up to 400,000 transactions.</li>
            </ul>
          </div>

          {/* Quarry Ventures Phils., Inc. Experience */}
          <div className="mb-8 p-6 border border-gray-200 rounded-lg shadow-sm">
            <h3 className="text-2xl font-semibold text-gray-800 mb-2">Mining Engineer</h3>
            <p className="text-indigo-600 font-medium mb-2">Quarry Ventures Phils., Inc. (Basalt and Marble Quarry Project)</p>
            <p className="text-sm text-gray-500 mb-4">April 2024 - Present</p>
            <p className="text-gray-700 mb-3">Drove company-wide planning, compliance, and communications efforts by continuously applying insights from global mining trends, sustainability initiatives, and evolving industry standards.</p>
            <ul className="list-disc list-inside space-y-2 text-gray-700">
              <li>Translated technical strategies into forward-looking development and rehabilitation programs with a combined budget of ₱90M+, reflecting global best practices in quarry management and ESG compliance.</li>
              <li>Ensured regulatory adherence through timely submission of over 40 government-mandated reports annually, strengthening trust with regulatory bodies.</li>
              <li>Provided leadership with decision-ready insights through internal reports and performance reviews, directly influencing monthly operational outputs.</li>
              <li>Represented the company in high-level consultations with government agencies and community stakeholders, effectively communicating complex project updates.</li>
              <li>Integrated modern ESG standards, including biodiversity preservation and environmental monitoring, into operational roadmaps to ensure sustained compliance.</li>
            </ul>
          </div>

          {/* Apex Mining Company Incorporated Experience */}
          <div className="p-6 border border-gray-200 rounded-lg shadow-sm">
            <h3 className="text-2xl font-semibold text-gray-800 mb-2">Student Intern</h3>
            <p className="text-indigo-600 font-medium mb-2">Apex Mining Company Incorporated (Maco, Davao de Oro)</p>
            <p className="text-sm text-gray-500 mb-4">August 2022 - September 2022</p>
            <ul className="list-disc list-inside space-y-2 text-gray-700">
              <li>Assessed the implementation of Revised Rock Bolt Standards in the Ramp 2 Area, identifying critical factors affecting underground geotechnical support system integrity.</li>
            </ul>
          </div>
        </section>

        {/* Skills Section */}
        <section id="skills" className="bg-white rounded-xl shadow-lg p-8 mb-8">
          <h2 className="text-3xl font-bold text-indigo-700 mb-6 flex items-center">
            <Lightbulb className="mr-3" size={28} /> My Expertise
          </h2>
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            {/* Mining Engineering Skills */}
            <div>
              <h3 className="text-2xl font-semibold text-gray-800 mb-4 flex items-center">
                <Briefcase className="mr-2 text-indigo-500" size={24} /> Mining Engineering
              </h3>
              <ul className="list-disc list-inside space-y-2 text-gray-700">
                <li>Marble Quarry Operations & Management</li>
                <li>Mine Planning & Design</li>
                <li>Regulatory Compliance (Philippine Mining Industry)</li>
                <li>Operational Optimization & Efficiency</li>
                <li>Long-term Resource Planning</li>
                <li>Environmental & Safety Standards Adherence</li>
                <li>Technical Reporting & Documentation</li>
                <li>ISO 14001:2015 EMS Compliance</li>
              </ul>
            </div>
            {/* Digital Operations & Research Skills */}
            <div>
              <h3 className="text-2xl font-semibold text-gray-800 mb-4 flex items-center">
                <Code className="mr-2 text-indigo-500" size={24} /> Research & Digital Operations
              </h3>
              <ul className="list-disc list-inside space-y-2 text-gray-700">
                <li>Systems-Level Research & Analysis</li>
                <li>Digital Content Strategy & Creation (SEO-informed)</li>
                <li>Information Architecture & Data Management</li>
                <li>AI-Assisted Workflows & Tools</li>
                <li>Cross-functional Alignment & Communication</li>
                <li>Technical Writing & Documentation</li>
                <li>Content Scheduling</li>
                <li>Lead Generation & Data-Mining</li>
                <li>Bookkeeping</li>
              </ul>
            </div>
            {/* Tools Used */}
            <div>
              <h3 className="text-2xl font-semibold text-gray-800 mb-4 flex items-center">
                <Code className="mr-2 text-indigo-500" size={24} /> Tools & Software
              </h3>
              <ul className="list-disc list-inside space-y-2 text-gray-700">
                <li>Google Workspace (Docs, Sheets, Slides)</li>
                <li>Vista Social</li>
                <li>WordPress, Avada</li>
                <li>QuickBooks</li>
                <li>WriterZen, Frase, Hexomatic, PepperType, DoveTail, Artemis</li>
                <li>ChatGPT (Custom GPTs)</li>
                <li>Surpac</li> {/* Added Surpac */}
              </ul>
            </div>
            {/* Languages */}
            <div>
              <h3 className="text-2xl font-semibold text-gray-800 mb-4 flex items-center">
                <Award className="mr-2 text-indigo-500" size={24} /> Languages
              </h3>
              <ul className="list-disc list-inside space-y-2 text-gray-700">
                <li>English (Advanced)</li>
                <li>Tagalog (Advanced)</li>
                <li>Cebuano (Native Speaker)</li>
              </ul>
            </div>
            {/* Soft Skills */}
            <div>
              <h3 className="text-2xl font-semibold text-gray-800 mb-4 flex items-center">
                <Award className="mr-2 text-indigo-500" size={24} /> Soft Skills
              </h3>
              <ul className="list-disc list-inside space-y-2 text-gray-700">
                <li>Excellent Communication</li>
                <li>Management</li>
                <li>Leadership</li>
                <li>Research</li>
              </ul>
            </div>
          </div>
        </section>

        {/* Educational Attainment Section */}
        <section id="education" className="bg-white rounded-xl shadow-lg p-8 mb-8">
          <h2 className="text-3xl font-bold text-indigo-700 mb-6 flex items-center">
            <GraduationCap className="mr-3" size={28} /> Educational Attainment
          </h2>
          <div className="p-6 border border-gray-200 rounded-lg shadow-sm">
            <h3 className="text-2xl font-semibold text-gray-800 mb-2">Bachelor of Science in Mining Engineering</h3>
            <p className="text-indigo-600 font-medium mb-2">Caraga State University, College of Engineering and Geosciences</p>
            <p className="text-sm text-gray-500">2018 - 2023</p>
          </div>
        </section>

        {/* Leadership and Affiliations Section */}
        <section id="leadership" className="bg-white rounded-xl shadow-lg p-8 mb-8">
          <h2 className="text-3xl font-bold text-indigo-700 mb-6 flex items-center">
            <Users className="mr-3" size={28} /> Leadership & Affiliations
          </h2>

          {/* Cabadbaran Baranas Adventure Team */}
          <div className="mb-8 p-6 border border-gray-200 rounded-lg shadow-sm">
            <h3 className="text-2xl font-semibold text-gray-800 mb-2">President</h3>
            <p className="text-indigo-600 font-medium mb-2">Cabadbaran Baranas Adventure Team</p>
            <p className="text-sm text-gray-500 mb-4">2021 - 2024</p>
            <ul className="list-disc list-inside space-y-2 text-gray-700">
              <li>Led organizational registration with the SEC and oversaw annual legal submissions.</li>
              <li>Directed outreach programs for Indigenous Communities, focusing on environmental awareness and sustainable livelihood through mountaineering.</li>
            </ul>
          </div>

          {/* Cabadbaran City People’s Organization */}
          <div className="mb-8 p-6 border border-gray-200 rounded-lg shadow-sm">
            <h3 className="text-2xl font-semibold text-gray-800 mb-2">Member (City Planning and Development Office)</h3>
            <p className="text-indigo-600 font-medium mb-2">Cabadbaran City People’s Organization</p>
            <p className="text-sm text-gray-500 mb-4">2022 - 2024</p>
            <ul className="list-disc list-inside space-y-2 text-gray-700">
              <li>Contributed to annual budget proposals, advocating for mountaineering business plans.</li>
              <li>Collaborated with LGU as Marshals for cultural heritage events (Dagkot Festivals, Sayong Fun Runs).</li>
            </ul>
          </div>

          {/* Philippine Society of Mining Engineers, Inc. */}
          <div className="p-6 border border-gray-200 rounded-lg shadow-sm">
            <h3 className="text-2xl font-semibold text-gray-800 mb-2">Member</h3>
            <p className="text-indigo-600 font-medium mb-2">Philippine Society of Mining Engineers, Inc.</p>
            <p className="text-sm text-gray-500">August 2023 - Present</p>
          </div>
        </section>

        {/* Contact Section */}
        <section id="contact" className="bg-white rounded-xl shadow-lg p-8">
          <h2 className="text-3xl font-bold text-indigo-700 mb-6 flex items-center">
            <Mail className="mr-3" size={28} /> Contact Me
          </h2>
          <p className="text-lg text-gray-700 mb-6">
            I'm always open to discussing new opportunities, collaborations, or challenges where my
            dual expertise can make a significant impact. Feel free to reach out!
          </p>
          <form
            name="contact" // Required for Netlify Forms
            method="POST"
            data-netlify="true" // Required for Netlify Forms
            onSubmit={handleSubmit}
            className="space-y-4"
          >
            {/* Hidden input for Netlify Forms */}
            <input type="hidden" name="form-name" value="contact" />

            <div>
              <label htmlFor="name" className="block text-gray-700 text-sm font-bold mb-2">
                Name
              </label>
              <input
                type="text"
                id="name"
                name="name"
                value={formData.name}
                onChange={handleChange}
                className="shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"
                placeholder="Your Name"
                required
              />
            </div>
            <div>
              <label htmlFor="email" className="block text-gray-700 text-sm font-bold mb-2">
                Email
              </label>
              <input
                type="email"
                id="email"
                name="email"
                value={formData.email}
                onChange={handleChange}
                className="shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"
                placeholder="your.email@example.com"
                required
              />
            </div>
            <div>
              <label htmlFor="message" className="block text-gray-700 text-sm font-bold mb-2">
                Message
              </label>
              <textarea
                id="message"
                name="message"
                rows="5"
                value={formData.message}
                onChange={handleChange}
                className="shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"
                placeholder="Your message here..."
                required
              ></textarea>
            </div>
            <button
              type="submit"
              className="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-full shadow-lg transform transition duration-300 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-indigo-300"
              disabled={formStatus === 'submitting'}
            >
              {formStatus === 'submitting' ? 'Sending...' : 'Send Message'}
            </button>

            {formStatus === 'success' && (
              <p className="text-green-600 mt-4 text-center">Message sent successfully! I'll get back to you soon.</p>
            )}
            {formStatus === 'error' && (
              <p className="text-red-600 mt-4 text-center">There was an error sending your message. Please try again later.</p>
            )}
          </form>
        </section>
      </main>

      {/* Footer */}
      <footer className="bg-gray-800 text-white p-6 text-center mt-8">
        <div className="container mx-auto">
          <p>&copy; {new Date().getFullYear()} Clint Justin Ampelon. All rights reserved.</p>
          <p className="mt-2 text-sm">Built with React and Tailwind CSS</p>
        </div>
      </footer>
    </div>
  );
};

export default App;
